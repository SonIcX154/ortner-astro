---
import Layout from '../layouts/MainLayout.astro';
import { getPageBySlug, getFeaturedImageUrl, getExcerpt } from '../lib/wordpress';

const home = await getPageBySlug('home');
const fallback = { title: { rendered: 'Willkommen' }, content: { rendered: '<h1>Christine Ortner</h1><p>Die Inhalte kommen von WordPress...</p>' }, excerpt: { rendered: '' } };
const pageData = home || fallback;
const featuredImage = getFeaturedImageUrl(pageData as any) || undefined;
const description = getExcerpt(pageData as any, 160);
---
<Layout title={pageData.title.rendered} description={description} image={featuredImage}>
  <section class="hero">
    <h1>{pageData.title.rendered}</h1>
    <div set:html={pageData.content.rendered} />
  </section>
</Layout>

<style>
  .hero {
    padding: 4rem 2rem;
    text-align: center;
  }
</style>
